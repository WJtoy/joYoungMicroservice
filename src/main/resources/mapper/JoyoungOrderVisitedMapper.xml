<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kkl.kklplus.b2b.joyoung.mapper.JoyoungOrderVisitedMapper" >
	<insert id="insert"  keyProperty="id" useGeneratedKeys="true">
		insert into joyoung_order_visited(
		b2b_order_id,
		order_no,
		visit_man,
		visit_date,
		remark,
		process_flag,
		process_time,
		process_comment,
		create_by,
		create_date,
		update_by,
		update_date,
		quarter
		)
		VALUES
		(
		#{b2bOrderId},
		#{orderNo},
		#{visitMan},
		#{visitDate},
		#{remark},
		#{processFlag},
		#{processTime},
		#{processComment},
		#{createById},
		#{createDt},
		#{updateById},
		#{updateDt},
		#{quarter}
		)

	</insert>

	<update id="updateProcessFlag" >
		UPDATE
		joyoung_order_visited
		SET
		process_flag = #{processFlag},
		process_time = process_time+1,
		process_comment = #{processComment},
		update_date = #{updateDt}
		WHERE
		id = #{id}
	</update>
</mapper>