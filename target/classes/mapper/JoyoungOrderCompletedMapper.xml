<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.kkl.kklplus.b2b.joyoung.mapper.JoyoungOrderCompletedMapper" >
	<insert id="insert"  keyProperty="id" useGeneratedKeys="true">
		insert into joyoung_order_completed(
		b2b_order_id,
		order_no,
		finish_note,
		items,
		process_flag,
		process_time,
		process_comment,
		create_by,
		create_date,
		update_by,
		update_date,
		quarter,
		app_complete_date
		)
		VALUES
		(
		#{b2bOrderId},
		#{orderNo},
		#{finishNote},
		#{itemsJson},
		#{processFlag},
		#{processTime},
		#{processComment},
		#{createById},
		#{createDt},
		#{updateById},
		#{updateDt},
		#{quarter},
		#{appCompleteDate}
		)

	</insert>

	<update id="updateProcessFlag" >
		UPDATE
		joyoung_order_completed
		SET
		process_flag = #{processFlag},
		process_time = process_time+1,
		process_comment = #{processComment},
		update_date = #{updateDt}
		WHERE
		id = #{id}
	</update>
</mapper>